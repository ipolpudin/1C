//https://infostart.ru/1c/articles/938015/
//https://infostart.ru/1c/articles/942569/ МНОГО!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
//https://fastcode.im/Templates/6715/poluchit-dannye-fizicheskogo-licza


//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//находит список сотрудников привязанных к физ лицу
//ОтбиратьПоГоловнойОрганизации = ложь //когда необходимо вытащить только за определенную организацию(дочерную в учете сис)
МассивСотрудников = КадровыйУчетРасширенный.СотрудникиФизическихЛиц(Сотрудник.ФизическоеЛицо, Организация, Ложь);
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//ФизическихЛиц
ДатаПолученияДанных = Дата(2019, 12, 1);

ПоляОтбораПериодическихДанных = Неопределено;

КадровыеДанные = КадровыйУчет.КадровыеДанныеФизическихЛиц(Истина, ФизическоеЛицо, "Фамилия", ДатаПолученияДанных, ПоляОтбораПериодическихДанных);

Для Каждого ТекСтрока из КадровыеДанные Цикл
	
	Сообщить("" + ТекСтрока.ФизическоеЛицо + ", Фамилия: " + ТекСтрока.фамилия);
КонецЦикла



	Список полей, допустимых в параметре КадровыеДанные.

			- Все имена кадровых данных, разрешенных для метода ЗапросВТПостоянныеКадровыеДанныеФизическихЛиц.

			Информация о гражданстве
			- ГражданствоПериодРегистрации	- Дата
			- Страна						- СправочникСсылка.СтраныМира (Справочники.СтраныМира.Россия)
			- ИННВСтранеГражданства			- Строка.

			Информация о документе, удостоверяющем личность.
			- ДокументПериодРегистрации	- Дата
			- ДокументВид 				- СправочникСсылка.ВидыДокументовФизическихЛиц
			- ДокументКодМВД 			- Строка
			- ДокументСерия 			- Строка
			- ДокументНомер 			- Строка
			- ДокументДатаВыдачи 		- Дата
			- ДокументСрокДействия 		- Дата
			- ДокументКемВыдан 			- Строка
			- ДокументКодПодразделения 	- Строка
			- ДокументСтранаВыдачи 		- СправочникСсылка.СтраныМира
			- ДокументПредставление 	- Строка.

			Информация о фамилии, имени, отчестве.
			- ФИОПериодРегистрации	- Дата
			- Фамилия 				- Строка;
			- Имя 					- Строка;
			- Отчество 				- Строка;
			- ФИОПолные 			- Строка, полные фамилия имя отчество;
			- ФамилияИО 			- Строка, фамилия и инициалы;
			- ИОФамилия 			- Строка, инициалы и фамилия;
			- Инициалы				- Строка, инициалы имени отчества.

			Информация о сведениях об инвалидности.
			- ИнвалидностьПериодРегистрации		- Дата
			- Инвалидность 						- Булево
			- ИнвалидностьДатаВыдачи 			- Дата
			- ИнвалидностьСрокДействияСправки 	- Дата.

			- СтатусНалогоплательщикаПериодРегистрации	- Дата
			- СтатусНалогоплательщика 					- СправочникСсылка.СтатусыНалогоплательщиковПоНДФЛ
															(Справочники.СтатусыНалогоплательщиковПоНДФЛ.Резидент).

			- ВидЗастрахованногоЛицаПериодРегистрации	- Дата
			- ВидЗастрахованногоЛица 					- ПеречислениеСсылка.ВидыЗастрахованныхЛицОбязательногоСтрахования
															(Перечисления.ВидыЗастрахованныхЛицОбязательногоСтрахования.ГражданеРФ).

			Сведения о стажах:

			- ОбщийСтажВид					- СправочникСсылка.ВидыСтажа
			- ОбщийСтажПериодРегистрации	- Дата, дата на которую указаны сведения.
			- ОбщийСтажРазмерДней			- Число, количество дней в последнем месяце на дату указания стажа.
			- ОбщийСтажРазмерМесяцев		- Число, количество месяцев всего (без разбивки по годам) на дату указания стажа.
			- ОбщийСтажДней					- Число, количество дней пересчитанное на дату получения сведений.
			- ОбщийСтажМесяцев				- Число, количество месяцев в последнем году, на дату получения сведений.
			- ОбщийСтажЛет					- Число, количество лет стажа на дату получения сведений.

			- СеверныйСтажВид
			- СеверныйСтажПериодРегистрации
			- СеверныйСтажРазмерДней
			- СеверныйСтажРазмерМесяцев
			- СеверныйСтажДней
			- СеверныйСтажМесяцев
			- СеверныйСтажЛет.

			- НепрерывныйСтажВид
			- НепрерывныйСтажПериодРегистрации
			- НепрерывныйСтажРазмерДней
			- НепрерывныйСтажРазмерМесяцев
			- НепрерывныйСтажДней
			- НепрерывныйСтажМесяцев
			- НепрерывныйСтажЛет.

			- СтажНаНадбавкуЗаВыслугуЛетВид
			- СтажНаНадбавкуЗаВыслугуЛетПериодРегистрации
			- СтажНаНадбавкуЗаВыслугуЛетРазмерДней
			- СтажНаНадбавкуЗаВыслугуЛетРазмерМесяцев
			- СтажНаНадбавкуЗаВыслугуЛетДней
			- СтажНаНадбавкуЗаВыслугуЛетМесяцев
			- СтажНаНадбавкуЗаВыслугуЛетЛет.

			- ОбщийНаучноПедагогическийСтажВид
			- ОбщийНаучноПедагогическийСтажПериодРегистрации
			- ОбщийНаучноПедагогическийСтажРазмерДней
			- ОбщийНаучноПедагогическийСтажРазмерМесяцев
			- ОбщийНаучноПедагогическийСтажДней
			- ОбщийНаучноПедагогическийСтажМесяцев
			- ОбщийНаучноПедагогическийСтажЛет.

			- ПедагогическийСтажВид
			- ПедагогическийСтажПериодРегистрации
			- ПедагогическийСтажРазмерДней
			- ПедагогическийСтажРазмерМесяцев
			- ПедагогическийСтажДней
			- ПедагогическийСтажМесяцев
			- ПедагогическийСтажЛет.

			- СтраховойСтажВид
			- СтраховойСтажПериодРегистрации
			- СтраховойСтажРазмерДней
			- СтраховойСтажРазмерМесяцев
			- СтраховойСтажДней
			- СтраховойСтажМесяцев
			- СтраховойСтажЛет.

			- РасширенныйСтраховойСтажВид
			- РасширенныйСтраховойСтажПериодРегистрации
			- РасширенныйСтраховойСтажРазмерДней
			- РасширенныйСтраховойСтажРазмерМесяцев
			- РасширенныйСтраховойСтажДней
			- РасширенныйСтраховойСтажМесяцев
			- РасширенныйСтраховойСтажЛет.

			- ПрочийСтажВид
			- ПрочийСтажПериодРегистрации
			- ПрочийСтажРазмерДней
			- ПрочийСтажРазмерМесяцев
			- ПрочийСтажДней
			- ПрочийСтажМесяцев
			- ПрочийСтажЛет.

			- ВыслугаЛетНаГосударственнойСлужбеВид
			- ВыслугаЛетНаГосударственнойСлужбеПериодРегистрации
			- ВыслугаЛетНаГосударственнойСлужбеРазмерМесяцев
			- ВыслугаЛетНаГосударственнойСлужбеРазмерДней
			- ВыслугаЛетНаГосударственнойСлужбеДней
			- ВыслугаЛетНаГосударственнойСлужбеМесяцев
			- ВыслугаЛетНаГосударственнойСлужбеЛет.

			- ВыслугаЛетНаВоеннойСлужбеВид
			- ВыслугаЛетНаВоеннойСлужбеПериодРегистрации
			- ВыслугаЛетНаВоеннойСлужбеРазмерМесяцев
			- ВыслугаЛетНаВоеннойСлужбеРазмерДней
			- ВыслугаЛетНаВоеннойСлужбеДней
			- ВыслугаЛетНаВоеннойСлужбеМесяцев
			- ВыслугаЛетНаВоеннойСлужбеЛет.

			Состояния в браке:
			- СостояниеВБракеПериодРегистрации 	- Дата
			- СостояниеВБраке 					- СправочникСсылка.СостояниеВБраке.

			Воинский учет:
			- ВоинскийУчетПериодРегистрации				- Дата
			- ВоинскийУчетКатегорияЗапаса				- ПеречислениеСсылка.КатегорииЗапасаВоеннообязанных
			- ВоинскийУчетЗвание						- СправочникСсылка.ЗванияГражданскогоВоинскогоУчета
			- ВоинскийУчетСостав						- СправочникСсылка.СоставыВоеннослужащих
			- ВоинскийУчетВУС							- Строка
			- ВоинскийУчетГодность						- ПеречислениеСсылка.ГодностьКВоеннойСлужбе
			- ВоинскийУчетВоенкомат						- СправочникСсылка. Военкоматы
			- ВоинскийУчетНомерКомандыПартии			- Строка
			- ВоинскийУчетПунктПеречня					- СправочникСсылка.ПереченьДолжностейДляБронированияГраждан
			- ВоинскийУчетНаличиеМобпредписания			- Булево
			- ВоинскийУчетОтношениеКВоинскойОбязанности	- ПеречислениеСсылка.ОтношениеКВоинскойОбязанности
			- ВоинскийУчетОтношениеКВоинскомуУчету		- ПеречислениеСсылка.ОтношениеКВоинскомуУчету.
			- ВоинскийУчетДатаСнятияСВоинскогоУчета		- Дата
			- ВоинскийУчетДатаОформленияОтсрочки		- Дата
			- ВоинскийУчетСерияУдостоверенияОбОтсрочке	- Строка
			- ВоинскийУчетНомерУдостоверенияОбОтсрочке	- Строка
			- ВоинскийУчетДатаСписка					- Дата
			- ВоинскийУчетИсходящийНомерСписка			- Строка
			- ВоинскийУчетПринадлежностьККазачеству		- Строка
			- ВоинскийУчетАдминистративныеВзыскания		- Строка
			- ВоинскийУчетДопускКонтрольныхОрганов	- Строка
			- ВоинскийУчетПрохождениеВоенныхСборов	- Строка
			- ВоинскийУчетКонтрактНаПребываниеВРезерве - Строка
			- ВоинскийУчетДополнительныеСведенияКарточки - Строка

			Сведения о бронировании:
			- ВоинскийУчетЗабронированОрганизациейПериодРегистрации - Дата
			- ВоинскийУчетЗабронированОрганизациейРегистратор		- ДокументСсылка
			- ВоинскийУчетЗабронированОрганизацией 					- СправочникСсылка.Организации.

			Сведения о государственном служащем:
			- КлассныйЧинРангПериодРегистрации	- Дата
			- КлассныйЧинРанг					- СправочникСсылка.КлассныеЧиныРанги.

			Сведения о воинских специальных званиях:
			- ВоинскоеСпециальноеЗваниеПериодРегистрации	- Дата
			- ВоинскоеСпециальноеЗвание						- СправочникСсылка.ВоинскиеСпециальныеЗвания.

			Сведения о составах семей:
			- КоличествоДетей			- Число
			- КоличествоДетейДляТ2		- Число (только те дети, у которых сброшен флаг СкрыватьВТ2 (Справочник.РодственникиФизическихЛиц))
			- КоличествоИждивенцев		- Число
			- КоличествоРодственников	- Число.

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//Сотрудников
                СсылкаСотрудников = Новый Массив;
		СсылкаСотрудников.Добавить(ВыборкаКадровыеПереводыДанные.СотрудникСсылка);
		ДатаПоиска = ТекущаяДата();
		
		КадровыеДанные = КадровыйУчет.КадровыеДанныеСотрудников(Истина, СсылкаСотрудников, "ПриказОПриемеДата, ПриказОПриемеНомер",ДатаПоиска, Неопределено);
		Данные =  КадровыеДанные[0];
		Для Каждого ТекСтрока из КадровыеДанные Цикл
			 а = 1;
			//Сообщить("" + ТекСтрока.ФизическоеЛицо + ", Фамилия: " + ТекСтрока.фамилия);
		КонецЦикла;
		СсылкаСотрудников.Очистить();


Список полей, допустимых в параметре КадровыеДанные, если сведений в базе данных нет, возвращается
  		NULL, исключения приведены в скобках, поле указания типа кадровых данных.

			- Все имена кадровых данных физических лиц (см. ЗапросВТКадровыеДанныеФизическихЛиц).

			- Все имена кадровых данных, разрешенных для метода ЗапросВТПостоянныеКадровыеДанныеСотрудников.

			Информация о рабочем месте.
			- РабочееМестоПериодРегистрации	- Дата
			- РабочееМестоРегистратор		- ДокументСсылка
			- Организация 					- СправочникСсылка.Организации
			- Подразделение 				- СправочникСсылка.ПодразделенияОрганизаций
			- Должность 					- СправочникСсылка.Должности
			- ВидЗанятости 					- ПеречисленияСсылка.ВидыЗанятости
			- ВидСобытия 					- ПеречисленияСсылка. ВидыКадровыхСобытий
			- КоличествоСтавок				- Число, в этой конфигурации всегда 1.
			- ДолжностьПоШтатномуРасписанию	- СправочникСсылка.ШтатноеРасписание
			- ВидДоговора					- ПеречислениеСсылка.ВидыДоговоровССотрудниками
			- МестоВСтруктуреПредприятия	- СправочникСсылка.СтруктураПредприятия.
			- РайонныйКоэффициент			- Число
			- РайонныйКоэффициентРФ			- Число

			- РазрядКатегорияПериодРегистрации	- Дата
			- РазрядКатегорияРегистратор		- ДокументСсылка
			- РазрядКатегория					- СправочникСсылка.РазрядыКатегорииДолжностей.

			- ПКУПериодРегистрации			- Дата
			- ПКУРегистратор				- ДокументСсылка
			- ПКУ							- СправочникСсылка.РазрядыКатегорииДолжностей.

			- СостояниеПериодРегистрации	- Дата
			- Состояние						- ПеречислениеСсылка.СостоянияСотрудника.

			- ТерриторияПериодРегистрации	- Дата	
			- ТерриторияРегистратор
			- Территория							- СправочникСсылка.ТерриторииВыполненияРабот.

			- РуководительСтруктурногоПодразделения				- СправочникСсылка.Сотрудники
			- ДолжностьРуководителяСтруктурногоПодразделения	- СправочникСсылка.ШтатноеРасписание

			Информация о свойствах рабочего места.
			- ЯвляетсяЧленомЛетногоЭкипажа 			- Булево (Ложь)
			- ЯвляетсяШахтером 						- Булево (Ложь)
			- ЯвляетсяФармацевтом 					- Булево (Ложь)
			- ЯвляетсяРаботникомСДосрочнойПенсией 	- ПеречислениеСсылка.ВидыРаботСДосрочнойПенсией
														(Перечисления.ВидыРаботСДосрочнойПенсией.ПустаяСсылка).
			- ЯвляетсяЧленомЭкипажаСуднаПодФлагомРФ - Булево (Ложь)
			- ТарифнаяСетка							- СправочникСсылка.ТарифныеСетки
			- ТарифнаяСеткаНадбавки					- СправочникСсылка.ТарифныеСетки
			- КлассныйЧинРангДолжности				- СправочникСсылка.КлассныеЧиныРанги.

			Информация об испытательном сроке (используется в КОРП конфигурациях).
			- ИспытательныйСрокДатаЗавершения	- Дата
			- НаходитсяНаИспытательномСроке		- Булево (Ложь)

			Информация об оплате труда.
			- ОплатаТрудаПериодЗаписи	- Дата
			- ОплатаТрудаРегистратор	- ДокументСсылка
			- ТарифнаяСтавка 			- Число
			- ФОТ 			 			- Число
			- Надбавка 		 			- Число, в этой конфигурации всегда 0.
			- ОсновноеНачисление		- ПланВидовРасчета.Начисления
			- ПоказательТарифнойСтавки	- СправочникСсылка.ПоказателиРасчетаЗарплаты.

			- СовокупнаяТарифнаяСтавкаПериодРегистрации	- Дата
			- СовокупнаяТарифнаяСтавкаРегистратор		- ДокументСсылка
			- СовокупнаяТарифнаяСтавка					- Число
			- ВидСовокупнойТарифнойСтавки				- ПеречислениеСсылка.ВидыТарифныхСтавок.

			- ПорядокРасчетаСтоимостиЕдиницыВремениПериодРегистрации	- Дата
			- ПорядокРасчетаСтоимостиЕдиницыВремениРегистратор			- ДокументСсылка
			- ПорядокРасчетаСтоимостиЕдиницыВремени						- ПеречислениеСсылка.ПорядокРасчетаСтоимостиЕдиницыВремениОплатыТруда.

			- ГрейдПериодРегистрации	- Дата
			- ГрейдРегистратор			- ДокументСсылка
			- Грейд						- СправочникСсылка.Грейды.

			- ГрафикРаботыПериодРегистрации		- Дата
			- ГрафикРаботыРегистратор			- ДокументСсылка
			- ГрафикРаботы						- СправочникСсылка.ГрафикиРаботыСотрудников
			- СуммированныйУчетРабочегоВремени	- Булево
			- СреднемесячноеЧислоЧасов			- Число
			- СреднемесячноеЧислоДней			- Число

			- ДоляНеполногоРабочегоВремени	- Число

			- АвансПериодРегистрации		- Дата
			- АвансРегистратор		- ДокументСсылка
			- СпособРасчетаАванса	- ПеречислениеСсылка.СпособыРасчетаАванса
			- Аванс					- Число.

			- ЗарплатныйПроектДатаОткрытияЛицевогоСчета	- Дата
			- ЗарплатныйПроектРегистратор				- ДокументСсылка.ПодтверждениеОткрытияЛицевыхСчетовСотрудников
			- ЗарплатныйПроект							- СправочникСсылка.ЗарплатныеПроекты
			- НомерЛицевогоСчета						- Строка.

			Информация об учете затрат.
			- УчетЗатратПериодРегистрации		- Дата
			- СтатьяФинансирования 				- СправочникСсылка.СтатьиФинансированияЗарплата
			- СпособОтраженияЗарплатыВБухучете 	- СправочникСсылка.СпособыОтраженияЗарплатыВБухУчете
			- ОтношениеКЕНВД 					- ПеречислениеСсылка.ОтношениеКЕНВДЗатратНаЗарплату
			- УчетЗатратДокументОснование 		- ДокументСсылка.ПриемНаРаботу.

			Основные данные контрактов, договоров сотрудников.
			- ДатаДоговораКонтракта			- Дата, так же поддерживается идентификатор ТрудовойДоговорДата
			- НомерДоговораКонтракта		- Строка, так же поддерживается идентификатор ТрудовойДоговорНомер
			- ДатаНачала					- Дата
			- ПоступлениеНаСлужбуВпервые	- Булево.

			Сведения контракта, договора сотрудника.
			- ПредставительНанимателя			- СправочникСсылка.ФизическиеЛица
			- ДолжностьПредставителяНанимателя	- СправочникСсылка.Должности
			- ОснованиеПредставителя			- Строка
			- ВидАктаГосоргана					- Строка
			- ДатаОкончания						- Дата
			- СрочныйДоговор					- Булево
			- СрокЗаключенияДоговора			- Строка
			- ОборудованиеРабочегоМеста			- Строка
			- ИныеУсловияДоговора				- Строка
			- ОснованиеСрочногоДоговора			- СправочникСсылка.ОснованияЗаключенияСрочныхКонтрактовГосслужащих
												- СправочникСсылка.ОснованияЗаключенияСрочныхДоговоровМуниципальныхСлужащих
												- СправочникСсылка.ОснованияЗаключенияСрочныхТрудовыхДоговоров.
			
			Информация о классах условий труда по результатам специальной оценки на рабочем месте.
			- КлассУсловийТрудаПериодРегистрации		- Дата
			- КлассУсловийТруда							- ПеречислениеСсылка.КлассыУсловийТрудаПоРезультатамСпециальнойОценки
			- КлассУсловийТрудаДатаРегистрацииИзменений	- Дата.		


ФИОПолные,Пол,ТабельныйНомер,Организация,Подразделение,Должность,ДатаПриема,ДатаУвольнения,Возраст,
Фамилия, Имя, Отчество, Наименование, ФизическоеЛицоНаименование, Код, ФизическоеЛицоКод,
АдресДляИнформирования, АдресДляИнформированияПредставление, АдресЗаПределамиРФ, АдресЗаПределамиРФПредставление
АдресМестаПроживания, АдресМестаПроживанияПредставление, АдресПоПрописке,АдресПоПропискеПредставление
ТелефонДомашний, ТелефонДомашнийПредставление, ТелефонРабочий, ТелефонРабочийПредставление, EMail, EMailПредставление
ДокументПериодРегистрации, ДокументВид, ДокументКодМВД, ДокументСерия, ДокументНомер, ДокументДатаВыдачи,ДокументСрокДействия
ДокументКемВыдан, ДокументКодПодразделения, ДокументПредставление, ИнвалидностьПериодРегистрации, Инвалидность
ИнвалидностьДатаВыдачи, ИнвалидностьСрокДействияСправки, ГражданствоПериодРегистрации, Страна, ИННВСтранеГражданства,
ПроцентСевернойНадбавки, ТекущаяОрганизация, ТекущееПодразделение, ТекущаяДолжность, ТекущийВидЗанятости,
ОсновноеРабочееМестоВОрганизации, ДатаПриема, ДатаЗавершенияРаботы, ОформленПоТрудовомуДоговору, ДатаУвольнения,
ТекущаяТарифнаяСтавка, ТекущийСпособРасчетаАванса, ТекущийАванс, ДатаНачалаУчета, ПриказОПриеме, ПриказОПриемеДата,
ПриказОПриемеНомер, НазначениеПодработки, ПриказОбУвольнении, ПриказОбУвольненииДата, ПриказОбУвольненииНомер,
ПриказОбУвольненииСтатьяТКРФ, ПрекращениеПодработки, РабочееМестоПериодРегистрации, РабочееМестоРегистратор
ВидСобытия, КоличествоСтавок, ЭтоГоловнойСотрудник, УчетЗатратПериодРегистрации,
СпособОтраженияЗарплатыВБухучете, ОтношениеКЕНВД, СтатьяФинансирования, УчетЗатратДокументОснование,
ОплатаТрудаПериодЗаписи, ОплатаТрудаРегистратор, ТарифнаяСтавка, ФОТ, Надбавка, ВидЗанятостиПериодЗаписи,
ВидЗанятостиРегистратор, ВидЗанятости, АвансПериодЗаписи, АвансРегистратор, СпособРасчетаАванса, Аванс,
КлассУсловийТрудаПериодРегистрации, КлассУсловийТруда, КлассУсловийТрудаДатаРегистрацииИзменений,
ЗарплатныйПроектПериодРегистрации, ЗарплатныйПроектРегистратор, ЗарплатныйПроект, НомерЛицевогоСчета

		
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////		
МассивСотрудников = КадровыйУчетРасширенный.СотрудникиФизическихЛиц(Сотрудник.ФизическоеЛицо, Организация, Ложь);


//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//ОтветственныеЛица

ОтветственныеЛица = ОтветственныеЛицаБП.ОтветственныеЛица(Организация, Дата);
	
	ОбластьПодвал.Параметры.ИОФРуководителя  				= ОтветственныеЛица.РуководительПредставление;
	ОбластьПодвал.Параметры.ИОФГлавБухгалтер 				= ОтветственныеЛица.ГлавныйБухгалтерПредставление;
	ОбластьПодвал.Параметры.ИОФНачОтделаКадров 				= ОтветственныеЛица.РуководительКадровойСлужбыПредставление;
	
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////	
//Т-13
//Количество, вид и т.д рабочих дней
//работает даже при изменении графика
	СписокСотрудников = РезультатКомпоновки.ДанныеОтчета.Строки.ВыгрузитьКолонку("ФизЛицо");//Список сотрудников из запроса СКД Массив
	
	
	Период = Новый Структура;
	Период.Вставить("ДатаОкончания", Дата); 
	Период.Вставить("ДатаНачала", НачалоГода(Дата));

	
	
	
	//{СофтЭксперт Полпудин И.С Дата: 15/06/2023
	//Считает количество рабочих дней по Календарю Сотрудника   
	Менеджер = Новый МенеджерВременныхТаблиц;
	Запрос = новый Запрос;
	Запрос.МенеджерВременныхТаблиц = Менеджер;
	
	ПараметрыПолученияДанных = КадровыйУчет.ПараметрыПолученияСотрудниковОрганизацийПоСпискуФизическихЛиц();
	ПараметрыПолученияДанных.Организация  = Организация;
	//ПараметрыПолученияДанных.Подразделение           ВТСотрудникиОрганизации
	ПараметрыПолученияДанных.НачалоПериода = Период.ДатаНачала;
	ПараметрыПолученияДанных.ОкончаниеПериода = Период.ДатаОкончания;
	ПараметрыПолученияДанных.СписокФизическихЛиц = СписокСотрудников;	
	
	КадровыйУчет.СоздатьВТСотрудникиОрганизации(Менеджер, ИСТИНА,ПараметрыПолученияДанных);
	
	Запрос = новый Запрос;
	Запрос.МенеджерВременныхТаблиц = Менеджер;
	Запрос.УстановитьПараметр("НачалоПериода",Период.ДатаНачала);
	Запрос.УстановитьПараметр("КонецПериода",Период.ДатаОкончания);
	
	Запрос.Текст = "ВЫБРАТЬ
	|    ВТСотрудникиОрганизации.Сотрудник,
	|    &НачалоПериода КАК ДатаНачала,
	|    &КонецПериода КАК ДатаОкончания
	|ПОМЕСТИТЬ  ВТСотрудники
	|ИЗ
	|    ВТСотрудникиОрганизации КАК ВТСотрудникиОрганизации";
	Запрос.Выполнить();
	
	
	ПараметрыЗаполнения = УчетРабочегоВремениРасширенный.ПараметрыДляЗапросВТДанныеУчетаВремениИСостоянийСотрудников();
	ПараметрыЗаполнения.ИмяВТСотрудники = "ВТСотрудники";
	ПараметрыЗаполнения.ИмяВТРезультат = "ВТУчетРабочегоВремениПолный";
	ПараметрыЗаполнения.РассчитыватьПлановоеВремя = Истина;
	ПараметрыЗаполнения.ДатаАктуальности  = НачалоМесяца(Период.ДатаОкончания);
	ПараметрыЗаполнения.ДатаНачала = Период.ДатаНачала;
	ПараметрыЗаполнения.ДатаОкончания = Период.ДатаОкончания;
	ПараметрыЗаполнения.МесяцДатаНачала = Период.ДатаНачала;
	ПараметрыЗаполнения.МесяцДатаОкончания = Период.ДатаОкончания;
	ПараметрыЗаполнения.ВыделятьВыходныеВПериодыОтклонений = Ложь;    
	УчетРабочегоВремениРасширенный.СоздатьВТДанныеУчетаВремениИСостоянийСотрудников(Менеджер,ИСТИНА,ПараметрыЗаполнения);
	
	
	Запрос.Текст = " ВЫБРАТЬ * ИЗ ВТУчетРабочегоВремениПолный ИТОГИ ПО Сотрудник";
	РезультатЗапроса = Запрос.Выполнить();
	Выборка = РезультатЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
	
	КоличествоРабочихДней = 0;
	
	
	
	Пока Выборка.Следующий() Цикл
		
		ВыборкаКатегория = Выборка.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
		
		//{СофтЭксперт Полпудин И.С Дата: 15/06/2023
		//Сотрудник из выборки
		ВыборкаКатегория.Следующий();
		СотрудникИзВыборки = ВыборкаКатегория.Сотрудник;
		ВыборкаКатегория.Сбросить();
		//}СофтЭксперт Полпудин И.С Дата: 15/06/2023
		
		Пока ВыборкаКатегория.Следующий() Цикл
			Если ВыборкаКатегория.НормаЧасов > 0 Тогда
				КоличествоРабочихДней = КоличествоРабочихДней + 1;
			КонецЕсли;
		КонецЦикла;
		
		
		//Дозаполнение данных по Стажу 
		ДанныеСотрудника 						= РезультатКомпоновки.ДанныеОтчета.Строки.Найти(СотрудникИзВыборки);
		ДанныеСотрудника.РабочихДней 			= КоличествоРабочихДней;
		ДанныеСотрудника.ОтработаноДней 		= КоличествоРабочихДней - ДанныеСотрудника.ДнейБезОплаты;
	КонецЦикла;
	//}СофтЭксперт Полпудин И.С Дата: 15/06/2023

